(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aa75848"],{1696:function(t,i,e){"use strict";e("a653")},3472:function(t,i,e){},3774:function(t,i,e){"use strict";e("84f1")},"458a":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"card-container van-hairline--bottom"},[e("div",{ref:"imgContainer",staticClass:"card-img"},[e("img",{attrs:{src:t.images[0]}})]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"title overflow-hidden"},[t._v(t._s(t.title))]),e("div",{staticClass:"desc overflow-hidden"},[t._v(t._s(t.desc))]),e("div",{staticClass:"tags"},t._l(t.tags,(function(i){return e("div",{key:i},[t._v(t._s(i))])})),0),e("div",{staticClass:"prices"},[t._v("￥"+t._s(t.price))])]),e("div",{staticClass:"counter"},[t.num?e("div",{staticClass:"couterDecreace",on:{touchend:function(i){return t.itemDecreace(t.id)}}},[e("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/rec.png"}})]):t._e(),t.num?e("div",{staticClass:"num"},[t._v(t._s(t.num))]):t._e(),e("div",{staticClass:"couterIncreace",on:{touchend:function(i){return t.itemIncreace(t.id)}}},[e("img",{attrs:{src:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/add.png"}})])])])},n=[],o={props:["images","title","tags","desc","price","id","num"],methods:{itemIncreace:function(){this.$emit("goodsNumChange",this.id,1),this.$emit("moveTo",this.images[0],this.$refs.imgContainer)},itemDecreace:function(){this.$emit("goodsNumChange",this.id,-1)}}},c=o,a=(e("3774"),e("2877")),r=Object(a["a"])(c,s,n,!1,null,"72d51eb7",null);i["a"]=r.exports},"5d6b":function(t,i,e){"use strict";e("3472")},"5d84":function(t,i,e){t.exports={goodsImg:"moveToShopping-module_goodsImg_1W52g"}},"643d":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"home-container"},[e("div",{staticClass:"search-btn"},[e("van-icon",{attrs:{name:"search"}}),e("router-link",{attrs:{tag:"div",to:{name:"Search"}}},[t._v("苹果特价一元一斤")])],1),e("Tab1"),t.showLoading?t.showLoading?e("van-loading",{attrs:{color:"#ff1a90",size:"1rem"}}):t._e():[e("TabAside"),e("GoodsList")]],2)},n=[],o=e("5530"),c=e("2f62"),a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"container",staticClass:"tab1-container"},t._l(t.menuList,(function(i,s){return e("div",{key:i.title,staticClass:"tab-item",class:{active:t.index===s},on:{touchstart:function(i){t.move=!1},touchmove:function(i){t.move=!0},touchend:function(i){return t.scrollTo(s,i)}}},[e("div",{staticClass:"tabImg"},[e("img",{attrs:{src:i.imgURL}})]),e("div",{staticClass:"tabTitle"},[t._v(t._s(i.title))])])})),0)},r=[],u=e("1da1");e("96cf");function d(t,i,e,s){var n=0,o=5,c=1.1;i<0&&(o*=-1);var a=setInterval((function(){o*=c,n+=o,e[s]=t+n,Math.abs(n)>Math.abs(i)&&(e[s]=t+i,clearInterval(a))}),10)}var l=d,g={data:function(){return{index:0,move:!1,menuList:[{title:"时令水果",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{title:"酒水冲调",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{title:"安心乳品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{title:"休闲零食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{title:"肉蛋食材",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{title:"新鲜蔬菜",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{title:"熟食餐饮",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{title:"海鲜水产",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{title:"粮油调味",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{title:"某手美食",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{title:"纸杯清洁",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{title:"个人护理",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{title:"美妆护肤",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{title:"家居收纳",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{title:"家用电器",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{title:"3C数码",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{title:"母婴用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{title:"鲜花绿植",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{title:"宠物用品",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{title:"图书玩具",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{title:"手表配饰",imgURL:"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]}},created:function(){this.$store.dispatch("getAsideList",this.menuList[0].title)},methods:{scrollTo:function(t,i){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,o,c,a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.move||(e.index=t,n=e.$refs.container,o=n.offsetWidth/2,c=i.target.offsetWidth/2,a=i.target.getBoundingClientRect().left,r=a+c-o,l(n.scrollLeft,r,n,"scrollLeft"),e.$store.commit("setTabName",e.menuList[t].title));case 1:case"end":return s.stop()}}),s)})))()}}},m=g,h=(e("aba9"),e("2877")),p=Object(h["a"])(m,a,r,!1,null,"cf13b308",null),f=p.exports,b=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"container",staticClass:"tab-aside-container"},t._l(t.tabAsideList,(function(i,s){return e("div",{key:i,class:{active:s===t.index},on:{touchstart:function(i){t.move=!1},touchmove:function(i){t.move=!0},touchend:function(i){return t.scrollTo(s,i)}}},[t._v(" "+t._s(0===s?"全部":i)+" ")])})),0)},v=[],y={data:function(){return{index:0,move:!1}},computed:Object(o["a"])({},Object(c["b"])(["tabAsideList","sort","tabName"])),methods:{scrollTo:function(t,i){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var n,o,c,a,r,u;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.move||(e.index=t,n=e.$refs.container,o=i.target.getBoundingClientRect().top,c=i.target.offsetHeight/2,a=n.offsetTop,r=n.offsetHeight/2,u=o+c-a-r,l(n.scrollTop,u,n,"scrollTop"),e.$store.commit("setGoodsType",e.tabAsideList[t]));case 1:case"end":return s.stop()}}),s)})))()}},watch:{tabName:function(){console.log(2),this.$store.dispatch("getAsideList",this.tabName)}}},L=y,j=(e("1696"),Object(h["a"])(L,b,v,!1,null,"3cc469e2",null)),C=j.exports,k=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"list-container"},[e("div",{ref:"header",staticClass:"list-header"},[e("div",{class:{active:"all"===t.sortType},on:{touchend:function(i){return t.changeType("all")}}},[t._v(" 综合 ")]),e("div",{class:{active:"sale"===t.sortType},on:{touchend:function(i){return t.changeType("sale")}}},[t._v(" 销量 ")]),e("div",{staticClass:"price",class:{"price-up":"price-up"===t.sortType,"price-down":"price-down"===t.sortType},on:{touchend:function(i){return t.changeType("price")}}},[t._v(" 价格 ")])]),e("div",{ref:"container",staticClass:"list-content"},[e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.goodsList,(function(i){return e("goods-card",t._b({key:i.id,attrs:{num:t.counterMap[i.id]},on:{goodsNumChange:t.handleGoodsChange,moveTo:t.handleMoveTo}},"goods-card",i,!1))})),1)],1)],1)])},T=[],_=(e("4e82"),e("458a")),R=e("796d"),w={components:{goodsCard:_["a"]},data:function(){return{isLoading:!1,loading:!1,finished:!1,page:1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["sort","goodsList","type","total","counterMap"])),{},{sortType:function(){return this.sort}}),mixins:[Object(R["a"])()],methods:{handleGoodsChange:function(t,i){this.$store.commit("storageChange",{id:t,value:i})},onLoad:function(){var t=this;this.finished||(this.page+=1,this.loading=!0,setTimeout((function(){t.$store.dispatch("getGoodsList",{page:t.page,sort:t.sortType}).then((function(){t.loading=!1,t.goodsList.length>=t.total&&(t.finished=!0)}))}),50))},onRefresh:function(){this.page=0,this.$store.commit("resetGoodsList"),this.finished=!1,this.isLoading=!0,this.onLoad(),this.isLoading=!1},changeType:function(t){"price"===t?"price-up"===this.sortType?this.$store.dispatch("setSortType","price-down"):this.$store.dispatch("setSortType","price-up"):this.$store.dispatch("setSortType",t),this.onRefresh()}},watch:{type:function(){this.page=0,this.$store.commit("resetGoodsList"),this.finished=!1,this.isLoading=!1,this.onLoad()}}},$=w,x=(e("66f3"),Object(h["a"])($,k,T,!1,null,"08fb3d3a",null)),U=x.exports,O={components:{Tab1:f,TabAside:C,GoodsList:U},computed:Object(o["a"])({},Object(c["b"])(["showLoading","tabAsideList"])),watch:{showLoading:function(){this.showLoading||(this.$store.commit("resetGoodsList"),this.$store.dispatch("getGoodsList",{type:this.tabAsideList[0],sort:"all"}))}}},I=O,E=(e("5d6b"),Object(h["a"])(I,s,n,!1,null,"2967a839",null));i["default"]=E.exports},"66f3":function(t,i,e){"use strict";e("9561")},"796d":function(t,i,e){"use strict";e("99af");var s=e("5d84"),n=e.n(s);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.img,e=t.imgLeft,s=t.imgTop,o=t.outerContainer,c=t.disY,a=t.disX,r=t.callback,u=document.createElement("div");u.className="".concat(n.a.goodsImg),u.innerHTML='<img src="'.concat(i,'" />'),o.appendChild(u),u.style.left="".concat(e,"px"),u.style.top="".concat(s,"px"),u.style.zIndex=10;var d=document.getElementById("shop-car");setTimeout((function(){u.style.transform="translate(".concat(a,"px, ").concat(c,"px) scale(0.1)"),u.style.opacity=0,d.classList.add("active"),u.addEventListener("transitionend",(function(){u.remove(),r()}),{once:!0})}),0)}var c=o;i["a"]=function(){return{methods:{handleMoveTo:function(t,i){var e=document.getElementById("app"),s=document.getElementById("shop-car"),n=i.getBoundingClientRect(),o=n.left,a=n.top,r=n.height,u=n.width,d=s.getBoundingClientRect(),l=d.left,g=d.top,m=d.height,h=d.width,p=g+m/2-a-r/2,f=l+h/2-o-u/2;c({img:t,imgLeft:o,imgTop:a,outerContainer:e,disY:p,disX:f,callback:function(){s.classList.remove("active")}})}}}}},"82bd":function(t,i,e){},"84f1":function(t,i,e){},9561:function(t,i,e){},a653:function(t,i,e){},aba9:function(t,i,e){"use strict";e("82bd")}}]);
//# sourceMappingURL=chunk-7aa75848.f618348f.js.map